provider: "CERES"
aliases:
  - "CERES CERVEZA S.L."
  - "CERES RC"
  - "DAKAR"

date:
  regex: '\\b\\d{2}/\\d{2}/\\d{4}\\b'

ref:
  regex: '\\b\\d{7}\\b'

lines:
  start_after:
    - "CODIGO DESCRIPCION DEL PRODUCTO"
    - "DESCRIPCION DEL PRODUCTO"
  stop_before:
    - "BASE IMPONIBLE"
    - "TOTAL FACTURA"
    - "RESUMEN"
    - "CUOTA IVA"
    - "IMPORTE R.E."
    - "TOTAL"
    - "IMPORTE IVA"
  ignore_if_contains:
    - "SUBTOTAL"
    - "DTO"
    - "DESCUENTO"
    - "BASE"
    - "IVA"
    - "TOTAL"
    - "ALBARAN"
    - "PRODUCTO UDS"
    - "IMPORTE IVA"
    - "0,00"
  normalize:
    casefold: true
    remove_accents: true
    collapse_ws: true
    strip_nbsp: true
    drop_units: true
    drop_codes: true

  # Captura descripción + último número europeo con coma decimal
  regex_linea: "^(?P<descripcion>.+?)\\s+(?P<base>\\d{1,3}(?:\\.\\d{3})*,\\d{2})$"

portes:
  keywords: ["PORTES", "TRANSPORTE", "ENVIO", "ENVÍO", "GASTOS ENVIO", "GASTOS ENVÍO", "FLETE"]

numbers:
  decimal: ","
  thousands: "."

